<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>New-FasRule - Citrix Federated Authentication Service 1903 PowerShell cmdlets</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Citrix Federated Authentication Service 1903 PowerShell cmdlets</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Citrix Federated Authentication Service PowerShell cmdlets <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="..">Introduction</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">cmdlets reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../Get-FasAdministrationPolicy/">Get-FasAdministrationPolicy</a>
</li>
                                    
<li >
    <a href="../Get-FasAuthorizationCertificate/">Get-FasAuthorizationCertificate</a>
</li>
                                    
<li >
    <a href="../Get-FasCertificateDefinition/">Get-FasCertificateDefinition</a>
</li>
                                    
<li >
    <a href="../Get-FasMsCertificateAuthority/">Get-FasMsCertificateAuthority</a>
</li>
                                    
<li >
    <a href="../Get-FasMsTemplate/">Get-FasMsTemplate</a>
</li>
                                    
<li >
    <a href="../Get-FasPolicyOid/">Get-FasPolicyOid</a>
</li>
                                    
<li >
    <a href="../Get-FasRule/">Get-FasRule</a>
</li>
                                    
<li >
    <a href="../Get-FasServer/">Get-FasServer</a>
</li>
                                    
<li >
    <a href="../Get-FasServerForUser/">Get-FasServerForUser</a>
</li>
                                    
<li >
    <a href="../Get-FasUserCertificate/">Get-FasUserCertificate</a>
</li>
                                    
<li >
    <a href="../Import-FasAuthorizationCertificateResponse/">Import-FasAuthorizationCertificateResponse</a>
</li>
                                    
<li >
    <a href="../New-FasAuthorizationCertificate/">New-FasAuthorizationCertificate</a>
</li>
                                    
<li >
    <a href="../New-FasAuthorizationCertificateRequest/">New-FasAuthorizationCertificateRequest</a>
</li>
                                    
<li >
    <a href="../New-FasCertificateDefinition/">New-FasCertificateDefinition</a>
</li>
                                    
<li >
    <a href="../New-FasMsTemplate/">New-FasMsTemplate</a>
</li>
                                    
<li >
    <a href="../New-FasPolicyOid/">New-FasPolicyOid</a>
</li>
                                    
<li class="active">
    <a href="./">New-FasRule</a>
</li>
                                    
<li >
    <a href="../New-FasUserCertificate/">New-FasUserCertificate</a>
</li>
                                    
<li >
    <a href="../Publish-FasMsTemplate/">Publish-FasMsTemplate</a>
</li>
                                    
<li >
    <a href="../Remove-FasAuthorizationCertificate/">Remove-FasAuthorizationCertificate</a>
</li>
                                    
<li >
    <a href="../Remove-FasCertificateDefinition/">Remove-FasCertificateDefinition</a>
</li>
                                    
<li >
    <a href="../Remove-FasMsTemplate/">Remove-FasMsTemplate</a>
</li>
                                    
<li >
    <a href="../Remove-FasPolicyOid/">Remove-FasPolicyOid</a>
</li>
                                    
<li >
    <a href="../Remove-FasRule/">Remove-FasRule</a>
</li>
                                    
<li >
    <a href="../Remove-FasUserCertificate/">Remove-FasUserCertificate</a>
</li>
                                    
<li >
    <a href="../Set-FasAdministrationPolicy/">Set-FasAdministrationPolicy</a>
</li>
                                    
<li >
    <a href="../Set-FasCertificateDefinition/">Set-FasCertificateDefinition</a>
</li>
                                    
<li >
    <a href="../Set-FasPolicyOid/">Set-FasPolicyOid</a>
</li>
                                    
<li >
    <a href="../Set-FasRule/">Set-FasRule</a>
</li>
                                    
<li >
    <a href="../Set-FasServer/">Set-FasServer</a>
</li>
                                    
<li >
    <a href="../Unpublish-FasMsTemplate/">Unpublish-FasMsTemplate</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../New-FasPolicyOid/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../New-FasUserCertificate/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#new-fasrule">New-FasRule</a></li>
            <li><a href="#synopsis">Synopsis</a></li>
            <li><a href="#syntax">Syntax</a></li>
            <li><a href="#description">Description</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#parameters">Parameters</a></li>
            <li><a href="#inputs">Inputs</a></li>
            <li><a href="#outputs">Outputs</a></li>
            <li><a href="#notes">Notes</a></li>
            <li><a href="#related-links">Related Links</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="new-fasrule">New-FasRule</h1>
<h2 id="synopsis">Synopsis</h2>
<p>Create a Rule object (a named instance of the Federated Authentication Service running on a server).</p>
<h2 id="syntax">Syntax</h2>
<pre><code>New-FasRule -Name &lt;String&gt; -CertificateDefinitions &lt;String[]&gt; -StoreFrontAcl &lt;String&gt; [-UserAcl &lt;String&gt;]
 [-VdaAcl &lt;String&gt;] [-DelegatedAdministrationAcl &lt;Boolean&gt;] [-Address &lt;String&gt;] [-UserName &lt;String&gt;]
 [-Password &lt;String&gt;] [&lt;CommonParameters&gt;]
</code></pre>

<h2 id="description">Description</h2>
<p>Create a named rule that controls which trusted StoreFront servers can assert logon identities.</p>
<p>Normally to log in to a Windows computer the Active Directory Domain Controllers require that "primary credentials" be present - that is a password, or a smartcard, etc. 
An instance of a Federated Authentication Service allows trusted servers to "assert" user identities without knowledge of primary credentials. 
The configuration options are:
    - The name of the Rule or Service instance. 
Usually there will be at least one service named "default", but further, independent services can be run.
    - A reference to the certificate definitions used to issue Virtual Smart Card certificates when user identities are asserted. 
Note that only Certificate Definitions marked "InSession" can be used after the logon stage.
    - A reference to the Virtual Smart Card to use for log on. 
By default this is the first in the list of Certificate Definitions.
    - A list of Windows Accounts that are trusted to assert identities for this Rule. 
For security reasons, this must be chosen very carefully - usually it will be the explicit machine accounts of your StoreFront servers.
    - A list of Windows User Accounts that can be asserted. 
Usually this will be restricted to a security group. 
For example "ExternalCitrixUserGroup"
    - A list of VDA Windows Accounts that can act as relying parties to log users in. 
For example, "CitrixVdaMachines"
    - A list of administrators who have can modify (but not create or delete) the rule.</p>
<h2 id="examples">Examples</h2>
<h3 id="example-1">Example 1</h3>
<p>PS C:\></p>
<pre><code>C:\PS&gt; $CitrixFasAddress=(Get-FasServer)[0].Address
C:\PS&gt; $CertificateDefinition=(Get-FasCertificateDefinition)[0].name
C:\PS&gt; New-FasRule -Name &quot;default&quot; -CertificateDefinitions @($CertificateDefinition) -StoreFrontAcl D:P(A;OICI;CC;;;DD)
</code></pre>

<p>Description</p>
<hr />
<p>This code generates a rule named "default" allowing Domain Controllers to assert identities by issuing certificates based on the first installed Certificate Definition</p>
<h2 id="parameters">Parameters</h2>
<h3 id="-name">-Name</h3>
<p>Specify the name of this rule. 
Usually a rule named "default" would be available.</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: (default)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-certificatedefinitions">-CertificateDefinitions</h3>
<p>Specify the a list of CertificateDefinition names for Virtual Smart Cards to create. 
The first in the list will be used for the log on process.</p>
<pre><code class="yaml">Type: String[]
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: (default)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-storefrontacl">-StoreFrontAcl</h3>
<p>Specify the SDDL Security Descriptor controlling which servers are trusted to assert user identities using this rule. 
E.g.
"D:P(A;OICI;CC;;;XXXX)" replacing xxxx with a SID string.</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: (default)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-useracl">-UserAcl</h3>
<p>Specify the SDDL Security Descriptor controlling which user identities can be asserted by this rule. 
E.g.
"D:P(A;OICI;LC;;;XXXX)" replacing xxxx with a SID string. 
Defaults as "D:P(A;OICI;LC;;;DU)" for "Domain Users"</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: D:P(A;OICI;LC;;;DU)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-vdaacl">-VdaAcl</h3>
<p>Specify the SDDL Security Descriptor controlling which VDAs can be logged into by this rule. 
E.g.
"D:P(A;OICI;DC;;;XXXX)" replacing xxxx with a SID string. 
Defaults as "D:P(A;OICI;DC;;;DC)" for "Domain Computers"</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: D:P(A;OICI;DC;;;DC)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-delegatedadministrationacl">-DelegatedAdministrationAcl</h3>
<p>Specify the SDDL Security Descriptor controlling which users can change the configuration of this rule. 
E.g.
"D:P(A;OICI;SW;;;XXXX)" replacing xxxx with a SID string. 
Defaults as "D:P(A;OICI;SW;;;BA)" for "Built-in Administrators" on the FAS Server.</p>
<pre><code class="yaml">Type: Boolean
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: D:P(A;OICI;SW;;;BA)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-address">-Address</h3>
<p>Address of FAS Server (or $NULL to use $CitrixFasAddress)</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $CitrixFasAddress
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-username">-UserName</h3>
<p>User name to use for authentication to FAS server ($NULL for current user account)</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $NULL
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="-password">-Password</h3>
<p>Password for authentication to FAS server ($NULL for current user account)</p>
<pre><code class="yaml">Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $NULL
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
</code></pre>

<h3 id="commonparameters">CommonParameters</h3>
<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable.
For more information, see about_CommonParameters (http://go.microsoft.com/fwlink/?LinkID=113216).</p>
<h2 id="inputs">Inputs</h2>
<h3 id="variable-based-on-property-name">Variable, based on property name.</h3>
<p>This cmdlet does accept input from the pipeline but only by property name.</p>
<h2 id="outputs">Outputs</h2>
<h3 id="void">void</h3>
<p>This cmdlet does not return a value</p>
<h2 id="notes">Notes</h2>
<h2 id="related-links">Related Links</h2>
<p><a href="">Get-FasRule</a></p>
<p><a href="">Set-FasRule</a></p>
<p><a href="">Remove-FasRule</a></p>
<p><a href="">Get-FasCertificateDefinition</a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
